<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cat aplication</title>

	<style>

	</style>

</head>

<body>
	<img src="cat.jpg" alt="cat" id="cat">
	<p id="target"></p>

	<script>
		// prvi zadatak
		var cat = document.getElementById("cat");

		var x = (function() {
			var counter = 0;
			return function() {
				counter++;
				return counter;
			}
		})();

		cat.addEventListener("click", function() {
			var target = document.getElementById("target");
			target.innerHTML = x();
		});

		// drugi zadatak
		function addName(name, element, target) {
			var catName = document.createElement(element);
			var catNameText = document.createTextNode(name);
			catName.appendChild(catNameText);
			document.body.insertBefore(catName, target);
		}
		addName("Cat 1", "H2", cat);

		function addCat(src, alt, id) {
			var img = document.createElement("IMG");
			img.setAttribute("src", src);
			img.setAttribute("alt", alt);
			img.setAttribute("id", id);
			document.body.appendChild(img);
		}

		addCat("cat2.jpg", "cat2", "cat2");
		var cat2 = document.getElementById("cat2");
		addName("Cat 2", "H2", cat2);

		function addNewTarget(id) {
			var p = document.createElement("P");
			p.setAttribute("id", id);
			document.body.appendChild(p);
		}
		addNewTarget("target2");

		var y = (function() {
			var counter = 0;
			return function() {
				counter++;
				return counter;
			}
		})();

		function addListener(element, targetElement, counter) {
			element.addEventListener("click", function() {
				var target = document.getElementById(targetElement);
				target.innerHTML = counter();
			});
		}

		addListener(cat2, "target2", y);

		var z = (function() {
			var counter = 0;
			return function() {
				counter++;
				return counter;
			}
		})();

		addCat("cat2.jpg", "cat3", "cat3");
		var cat3 = document.getElementById("cat3");
		addName("Cat 3", "H2", cat3);
		addNewTarget("target3");
		addListener(cat3, "target3", z);

	</script>
</body>

</html>